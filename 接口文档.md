# 接口文档
## 全局
<b>host : http://  </b>   
<b>url : 拼接具体路径</b>

### 统一返回格式
```
{
  "status":123,    // 一个三位整数
  "message":"msg", // 一个短语用于说明
  "data":{}        // 请求的数据
}
```
<br> 

## 返回信息格式的具体说明
```
{
  "status":200, // 代表成功
  "message":"操作成功",
  "data":{}
}

{  
  "status":300, // 代表失败
  "message":"explict error msg",
  "data":{}
}

{
  "status":400, // 代表没有权限
  "message":"会话已过期或权限不足，请重新登陆"
  "data":{}
}

其他说明：
1、无特殊说明，返回数据均为字符串类型
2、所有时间类型都是 timestamp
```
#### 以下 response 中已省略 status、message，仅说明 data
<br>

## 具体请求
### 无权限请求 
#### 登录  
user/login  
POST  

request:
```
{
  "sid":"id",
  "password":"pass",
  "code":"code",
  "remember":true   // nullable, others not
}
``` 
data:
``` 
{
  "role":0      // 0 - no user
                // 1 - student
                // 2 - lab leader
                // 3 - admin
  "admin":  {
              "id":""
            }
            
  "student":{
              "id":""
  
            }
            
  "lab":    {
              "id":""
            }
            
}
```

#### 登陆验证码图片  
user/login/code  

jpeg img   
 
#### 发送注册验证码  
user/register/mail  
POST  

request:
``` 
{
  "email":""    // not null
}
```
data: null

#### 提交注册  
user/register/code  
POST  

request:

``` 
// all not null
{
  "email":"",   
  "code":"code",
  "name":"name",
  "password":"pass"  
}
```
data: null


#### 发送重置密码验证码  
user/resetPassword/mail  
POST  

request:
``` 
{
  "email":""    // not null
}
```
data: null


#### 提交重置密码  
user/resetPassword/code  
POST  

request:

``` 
// all not null
{
  "email":"",   
  "code":"code", 
  "password":"pass"  
}
```
data: null  
<br>
### Project Services 

#### 创建项目
project/create  
POST  

request:  

```
{
  "name":"",        // not null
  "description":"", // nullable
  "duration":1000,  // nullable, seconds
  "coach_id":"",    // nullable
  "lab_name":"",    // not null, pk
  "aim":"",         // not null
  "type":"",        // nullable
  "memberIds":""    // 以 @ 分割，去掉 leader 至少一个 
}
```
data: null
 
#### 查看自己的所有项目
project/student/all  
GET  

request: null

data:  

```
[
  {
     id 
     name 
     coach_id
     lab_name
     opt_status:   int
     start_time
     end_time
     duration:     int, seconds                   
     submit_time
     leader_id
     type
  },
  ... 
]
```

 

#### 查看某个学生的所有项目
project/student/all/admin  
GET  

request: 
```
{
  "sid":"id"  // nullable
}
```

data:  

```
[
  {
     id 
     name 
     coach_id
     lab_name
     opt_status:   int
     start_time
     end_time
     duration:     int, seconds                   
     submit_time
     leader_id
     type
  },
  ... 
]
```










<br>   

### Lab Services
 
#### 查看实验室列表
lab/get/all  
GET  

request: null

data:  

```
[
  {
     id 
     name 
     leader_id
     ... // 待补充
  },
  ... 
]
```
 
#### 查看实验室信息
lab/get  
GET  

request: 
```
{
  "id":1 
}
```

data:  

```
{
   id 
   name 
   leader_id
   ... // 待补充
}
```

#### 创建实验室 
lab/create  
POST  

request: 
```
{
   
}
```

data: null
 
#### 更新实验室信息
lab/update  
POST  

request: 
```
{
   
}
```

data: null

#### 删除实验室
lab/delete  
POST  

request: 
```
{
  "id":1 
}
```

data: null




